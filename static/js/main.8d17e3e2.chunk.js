(this["webpackJsonplarissa-frontend"]=this["webpackJsonplarissa-frontend"]||[]).push([[0],{237:function(e,t,n){},240:function(e,t,n){},351:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(49),i=n.n(c),o=(n(237),n(16)),l=n(7),s=n(11),u=n.n(s),d=(n(239),n(240),n(456)),j=n(18),_=n(44),b=n(21),p=n(457),f=n(458),x=n(1),h=n(460),O=n(441),v=n(450),m=n(360),g=n(442),y=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BE_URL,"/users/login"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t),credentials:"include"});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.t1=JSON,e.next=13,n.text();case 13:throw e.t2=e.sent,e.t3=n.status,e.t4={text:e.t2,status:e.t3},e.t5=e.t1.stringify.call(e.t1,e.t4),new e.t0(e.t5);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=y,w="SET_USER",E=function(e){return{type:w,payload:e}},C=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(j.c)((function(e){return e.user})),i=Object(j.c)((function(e){return e.lang})),s=Object(j.b)(),_=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,r,c,o,l,d,j,_;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=new FormData(t.currentTarget),o=null===(n=c.get("email"))||void 0===n?void 0:n.toString(),l=null===(r=c.get("password"))||void 0===r?void 0:r.toString(),!o||!l){e.next=19;break}return e.prev=5,e.next=8,S({identifier:o,password:l});case 8:d=e.sent,s(E(d)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(5),j=JSON.parse(null===e.t0||void 0===e.t0?void 0:e.t0.message),_=j.text,console.error(_),a("gr"===i?"\u039b\u03b1\u03b8\u03bf\u03c2 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03b9\u03b1":"Please provide valid credentials");case 17:e.next=20;break;case 19:a("gr"===i?"\u039b\u03b1\u03b8\u03bf\u03c2 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03b9\u03b1":"Please provide valid credentials");case 20:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){console.log(c),c&&(window.location.href="/")}),[c]),Object(x.jsx)(d.a,{maxWidth:"xs",children:Object(x.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)(m.a,{component:"h1",variant:"h5",children:"gr"===i?"\u03a3\u03c5\u03bd\u03b4\u03b5\u03c3\u03b7":"Sign in"}),Object(x.jsxs)(p.a,{component:"form",onSubmit:_,sx:{mt:1},children:[Object(x.jsx)(O.a,{margin:"normal",required:!0,fullWidth:!0,error:Boolean(n),id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0}),Object(x.jsx)(O.a,{margin:"normal",required:!0,fullWidth:!0,error:Boolean(n),name:"password",label:"gr"===i?"\u039a\u03c9\u03b4\u03b9\u03ba\u03bf\u03c2":"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(){return a(null)}}),n&&Object(x.jsx)(g.a,{severity:"error",children:n}),Object(x.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,color:"secondary.light"},children:"gr"===i?"\u03a3\u03c5\u03bd\u03b4\u03b5\u03c3\u03b7":"Sign In"}),Object(x.jsx)(v.a,{container:!0,children:Object(x.jsx)(v.a,{item:!0,children:Object(x.jsx)(f.a,{href:"/register",variant:"body2",children:"gr"===i?"\u0394\u03b5\u03bd \u03b5\u03c7\u03b5\u03c4\u03b5 \u03bb\u03bf\u03b3\u03b1\u03c1\u03b9\u03b1\u03c3\u03bc\u03bf; \u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03b5\u03b9\u03c4\u03b5":"Don't have an account? Sign Up"})})})]})]})})},k=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BE_URL,"/users/register"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t),credentials:"include"});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.t1=JSON,e.next=13,n.text();case 13:throw e.t2=e.sent,e.t3=n.status,e.t4={text:e.t2,status:e.t3},e.t5=e.t1.stringify.call(e.t1,e.t4),new e.t0(e.t5);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=k,N=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(j.c)((function(e){return e.user})),i=Object(j.c)((function(e){return e.lang})),s=Object(j.b)(),_=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,r,c,i,o,l,d,j,_,b,p,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o=new FormData(t.currentTarget),l=null===(n=o.get("firstName"))||void 0===n?void 0:n.toString(),d=null===(r=o.get("lastName"))||void 0===r?void 0:r.toString(),j=null===(c=o.get("email"))||void 0===c?void 0:c.toString(),_=null===(i=o.get("password"))||void 0===i?void 0:i.toString(),!(l&&d&&j&&_)){e.next=20;break}return e.prev=7,e.next=10,T({firstName:l,lastName:d,email:j,password:_});case 10:b=e.sent,s(E(b)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),p=JSON.parse(null===e.t0||void 0===e.t0?void 0:e.t0.message),f=p.text,a(f);case 18:e.next=21;break;case 20:a("Please provide valid data");case 21:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){c&&(window.location.href="/")}),[c]),Object(x.jsx)(d.a,{maxWidth:"xs",children:Object(x.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)(m.a,{component:"h1",variant:"h5",children:"gr"===i?"\u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03b7":"Sign up"}),Object(x.jsxs)(p.a,{component:"form",onSubmit:_,sx:{mt:3},children:[Object(x.jsxs)(v.a,{container:!0,spacing:2,children:[Object(x.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(O.a,{autoComplete:"given-name",name:"firstName",type:"text",required:!0,fullWidth:!0,id:"firstName",label:"gr"===i?"\u039f\u03bd\u03bf\u03bc\u03b1":"First Name",autoFocus:!0})}),Object(x.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(x.jsx)(O.a,{required:!0,fullWidth:!0,id:"lastName",label:"gr"===i?"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03bf":"Last Name",name:"lastName",type:"text",autoComplete:"family-name"})}),Object(x.jsx)(v.a,{item:!0,xs:12,children:Object(x.jsx)(O.a,{required:!0,fullWidth:!0,error:Boolean(n),id:"email",label:"Email",name:"email",type:"email",autoComplete:"email",onChange:function(){return a(null)}})}),Object(x.jsx)(v.a,{item:!0,xs:12,children:Object(x.jsx)(O.a,{required:!0,fullWidth:!0,name:"password",label:"gr"===i?"\u039a\u03c9\u03b4\u03b9\u03ba\u03bf\u03c2":"Password",type:"password",id:"password",autoComplete:"new-password"})})]}),n&&Object(x.jsx)(g.a,{severity:"error",sx:{my:2},children:n}),Object(x.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,color:"secondary.light"},children:"gr"===i?"\u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03b7":"Sign Up"}),Object(x.jsx)(v.a,{container:!0,justifyContent:"flex-end",children:Object(x.jsx)(v.a,{item:!0,children:Object(x.jsx)(f.a,{href:"/login",variant:"body2",children:"gr"===i?"\u0395\u03c7\u03b5\u03c4\u03b5 \u03b7\u03b4\u03b7 \u03bb\u03bf\u03b3\u03b1\u03c1\u03b9\u03b1\u03c3\u03bc\u03bf; \u03a3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03b9\u03c4\u03b5":"Already have an account? Sign in"})})})]})]})})},A=n(461),P=n(462),R=n(459),D=n(203),W=n(190),F=n.n(W),L=n(451),I=n(439),U=n(447),B=n(428),H=n(429),K=function(e){var t=e.children,n=Object(B.a)();return Object(x.jsx)(H.a,{appear:!1,direction:"down",in:!n,children:t})},J=n(430),V=n(431),z=n(432),M=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BE_URL,"/users/logout"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",credentials:"include"});case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.t1=JSON,e.next=13,t.text();case 13:throw e.t2=e.sent,e.t3=t.status,e.t4={text:e.t2,status:e.t3},e.t5=e.t1.stringify.call(e.t1,e.t4),new e.t0(e.t5);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=M,q="SET_LANG",X=function(e){return{type:q,payload:e}},Y=function(){var e=Object(j.c)((function(e){return e.user})),t=Object(j.c)((function(e){return e.lang})),n=Object(j.b)(),a=Object(r.useState)(null),c=Object(l.a)(a,2),i=c[0],s=c[1],b=Object(r.useState)(null),f=Object(l.a)(b,2),O=f[0],v=f[1],g=function(){s(null)},y=function(){v(null)},S=function(){var e=Object(o.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G();case 3:e.sent,n(E(null)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t=JSON.parse(null===e.t0||void 0===e.t0?void 0:e.t0.message),r=t.text,console.log(r);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(K,{children:Object(x.jsx)(A.a,{children:Object(x.jsx)(d.a,{maxWidth:"xl",children:Object(x.jsx)(P.a,{disableGutters:!0,children:e?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m.a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"},color:"secondary.light",fontWeight:600},children:Object(x.jsx)("img",{src:"".concat("","/assets/larissa-logo.png"),alt:"larissa logo"})}),Object(x.jsxs)(p.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"},color:"secondary.light"},children:[Object(x.jsx)(R.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit",children:Object(x.jsx)(F.a,{})}),Object(x.jsx)(D.a,{id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(i),onClose:g,sx:{display:{xs:"block",md:"none"}},children:"municipality"===(null===e||void 0===e?void 0:e.role)?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(_.b,{to:"/preparedForms",style:{textDecoration:"none",color:"inherit"},children:Object(x.jsx)(U.a,{onClick:g,children:Object(x.jsx)(m.a,{textAlign:"center",children:"\u03a6\u03bf\u03c1\u03bc\u03b5\u03c2 \u03a0\u03c1\u03bf\u03c3\u03c6\u03c5\u03b3\u03c9\u03bd"})},"Forms")}),Object(x.jsx)(_.b,{to:"/municipalityForms",style:{textDecoration:"none",color:"inherit"},children:Object(x.jsx)(U.a,{onClick:g,children:Object(x.jsx)(m.a,{textAlign:"center",children:"\u03a6\u03bf\u03c1\u03bc\u03b5\u03c2 \u039b\u03b7\u03be\u03b9\u03b1\u03c1\u03c7\u03b5\u03b9\u03bf\u03c5"})},"Forms")})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(_.b,{to:"/preperation",style:{textDecoration:"none",color:"inherit"},children:Object(x.jsx)(U.a,{onClick:g,children:Object(x.jsx)(m.a,{textAlign:"center",children:"gr"===t?"\u03a0\u03c1\u03bf\u03b5\u03c4\u03bf\u03b9\u03bc\u03b1\u03c3\u03b9\u03b1":"Preperation"})},"Preperation")}),Object(x.jsx)(_.b,{to:"/refugeeAppointments",style:{textDecoration:"none",color:"inherit"},children:Object(x.jsx)(U.a,{onClick:g,children:Object(x.jsx)(m.a,{textAlign:"center",children:"gr"===t?"\u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03c5":"Appointments"})},"Appointments")})]})})]}),Object(x.jsx)(m.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"flex",md:"none"},color:"secondary.light",fontWeight:600},children:Object(x.jsx)("img",{src:"".concat("","/assets/larissa-logo.png"),alt:"larissa logo",width:125,height:40})}),Object(x.jsx)(p.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:"municipality"===(null===e||void 0===e?void 0:e.role)?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(_.b,{to:"/preparedForms",style:{textDecoration:"none"},children:Object(x.jsx)(h.a,{onClick:g,sx:{my:2,color:"white",display:"block"},children:"\u03a6\u03bf\u03c1\u03bc\u03b5\u03c2 \u03a0\u03c1\u03bf\u03c3\u03c6\u03c5\u03b3\u03c9\u03bd"},"Forms")}),Object(x.jsx)(_.b,{to:"/municipalityForms",style:{textDecoration:"none"},children:Object(x.jsx)(h.a,{onClick:g,sx:{my:2,color:"white",display:"block"},children:"\u03a6\u03bf\u03c1\u03bc\u03b5\u03c2 \u039b\u03b7\u03be\u03b9\u03b1\u03c1\u03c7\u03b5\u03b9\u03bf\u03c5"},"Forms")})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(_.b,{to:"/preperation",style:{textDecoration:"none"},children:Object(x.jsx)(h.a,{onClick:g,sx:{my:2,color:"white",display:"block"},children:"gr"===t?"\u03a0\u03c1\u03bf\u03b5\u03c4\u03bf\u03b9\u03bc\u03b1\u03c3\u03b9\u03b1":"Preperation"},"Preperation")}),Object(x.jsx)(_.b,{to:"/refugeeAppointments",style:{textDecoration:"none"},children:Object(x.jsx)(h.a,{onClick:g,sx:{my:2,color:"white",display:"block"},children:"gr"===t?"\u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03c5":"Appointments"},"Appointments")})]})}),Object(x.jsxs)(p.a,{sx:{flexGrow:0,display:"flex",alignItems:"center"},children:["municipality"!==(null===e||void 0===e?void 0:e.role)&&Object(x.jsxs)(J.a,{defaultValue:t||"gr",inputProps:{name:"lang",id:"lang"},onChange:function(e){return n(X(e.target.value))},sx:{borderColor:"white"},children:[Object(x.jsx)("option",{value:"gr",children:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03b1"}),Object(x.jsx)("option",{value:"en",children:"English"})]}),Object(x.jsx)(I.a,{title:"municipality"===(null===e||void 0===e?void 0:e.role)?"\u03a1\u03c5\u03b8\u03bc\u03b9\u03c3\u03b5\u03b9\u03c2":"Open settings",children:Object(x.jsx)(R.a,{onClick:function(e){v(e.currentTarget)},sx:{p:0},children:Object(x.jsx)(L.a,{alt:"Remy Sharp",src:"/static/images/avatar/2.jpg",sx:{color:"primary.main",backgroundColor:"secondary.light"}})})}),Object(x.jsx)(D.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:O,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},open:Boolean(O),onClose:y,onClick:y,children:Object(x.jsxs)(U.a,{onClick:function(){return S()},children:[Object(x.jsx)(V.a,{children:Object(x.jsx)(z.a,{fontSize:"small"})}),"municipality"===(null===e||void 0===e?void 0:e.role)||"gr"===t?"\u0391\u03c0\u03bf\u03c3\u03c5\u03bd\u03b4\u03b5\u03c3\u03b7":"Logout"]})})]})]}):Object(x.jsxs)(p.a,{sx:{flexGrow:0,display:"flex",alignItems:"center"},children:[Object(x.jsx)(_.b,{to:e?"/":"/login",style:{textDecoration:"none"},children:Object(x.jsx)(m.a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,color:"secondary.light",fontWeight:600},children:Object(x.jsx)("img",{src:"".concat("","/assets/larissa-logo.png"),alt:"larissa logo",width:188,height:60})})}),"municipality"!==(null===e||void 0===e?void 0:e.role)&&Object(x.jsxs)(J.a,{defaultValue:t||"gr",inputProps:{name:"lang",id:"lang"},onChange:function(e){return n(X(e.target.value))},sx:{borderColor:"white"},children:[Object(x.jsx)("option",{value:"gr",children:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03b1"}),Object(x.jsx)("option",{value:"en",children:"English"})]})]})})})})})},Q=(n(120),n(245),n(20)),Z=n(463),$=n(208),ee=n(464),te=n(465),ne=n(466),re=n(467),ae=n(468),ce=n(17),ie=n(448),oe=n(475),le=n(444),se=n(449),ue=n(476),de=n(477),je=n(198),_e=n.n(je),be=n(197),pe=n.n(be),fe=n(204),xe=n(38),he=n(99),Oe=n.n(he),ve=n(128),me=n.n(ve),ge=(n(437),n(433),n(438),function(e){e.isWritable;var t=e.control,n=Object(j.c)((function(e){return e.lang}));return Object(x.jsxs)(v.a,{container:!0,spacing:2,direction:"column",style:{maxWidth:"500px"},children:[Object(x.jsx)(v.a,{item:!0,children:Object(x.jsx)(Q.a,{name:"father.lastName",control:t,render:function(e){var t=e.field,r=t.onChange,a=t.value,c=e.fieldState.error;return Object(x.jsx)(O.a,{label:"gr"===n?"\u0395\u03c0\u03af\u03b8\u03b5\u03c4\u03bf":"Last Name",variant:"outlined",value:a,onChange:function(e){return r(Object(ce.a)(Object(ce.a)({},e),{},{target:Object(ce.a)(Object(ce.a)({},e.target),{},{value:e.target.value.replace(/[0-9]+/gi,"")})}))},fullWidth:!0,error:!!c})}})}),Object(x.jsx)(v.a,{item:!0,children:Object(x.jsx)(Q.a,{name:"father.firstName",control:t,render:function(e){var t=e.field,r=t.onChange,a=t.value,c=e.fieldState.error;return Object(x.jsx)(O.a,{label:"gr"===n?"\u038c\u03bd\u03bf\u03bc\u03b1":"First Name",variant:"outlined",value:a,onChange:function(e){return r(Object(ce.a)(Object(ce.a)({},e),{},{target:Object(ce.a)(Object(ce.a)({},e.target),{},{value:e.target.value.replace(/[0-9]+/gi,"")})}))},fullWidth:!0,error:!!c})}})}),Object(x.jsx)(v.a,{item:!0,children:Object(x.jsx)(Q.a,{name:"father.ssn",control:t,render:function(e){var t=e.field,r=t.onChange,a=t.value,c=e.fieldState.error;return Object(x.jsx)(O.a,{label:"gr"===n?"\u0391.\u0394.\u03a4.":"ID",variant:"outlined",value:a,onChange:r,fullWidth:!0,error:!!c})}})})]})}),ye=function(e){e.isWritable;var t=e.control,n=Object(j.c)((function(e){return e.lang}));return Object(x.jsxs)(v.a,{container:!0,spacing:2,direction:"column",style:{maxWidth:"500px"},children:[Object(x.jsx)(v.a,{item:!0,children:Object(x.jsx)(Q.a,{name:"mother.lastName",control:t,render:function(e){var t=e.field,r=t.onChange,a=t.value,c=e.fieldState.error;return Object(x.jsx)(O.a,{label:"gr"===n?"\u0395\u03c0\u03af\u03b8\u03b5\u03c4\u03bf":"Last Name",variant:"outlined",value:a,onChange:function(e){return r(Object(ce.a)(Object(ce.a)({},e),{},{target:Object(ce.a)(Object(ce.a)({},e.target),{},{value:e.target.value.replace(/[0-9]+/gi,"")})}))},fullWidth:!0,error:!!c})}})}),Object(x.jsx)(v.a,{item:!0,children:Object(x.jsx)(Q.a,{name:"mother.firstName",control:t,render:function(e){var t=e.field,r=t.onChange,a=t.value,c=e.fieldState.error;return Object(x.jsx)(O.a,{label:"gr"===n?"\u038c\u03bd\u03bf\u03bc\u03b1":"First Name",variant:"outlined",value:a,onChange:function(e){return r(Object(ce.a)(Object(ce.a)({},e),{},{target:Object(ce.a)(Object(ce.a)({},e.target),{},{value:e.target.value.replace(/[0-9]+/gi,"")})}))},fullWidth:!0,error:!!c})}})}),Object(x.jsx)(v.a,{item:!0,children:Object(x.jsx)(Q.a,{name:"mother.ssn",control:t,render:function(e){var t=e.field,r=t.onChange,a=t.value,c=e.fieldState.error;return Object(x.jsx)(O.a,{label:"gr"===n?"\u0391.\u0394.\u03a4.":"ID",variant:"outlined",value:a,onChange:r,fullWidth:!0,error:!!c})}})})]})},Se=function(e){e.isWritable;var t=e.control,n=Object(j.c)((function(e){return e.lang}));return Object(x.jsxs)(v.a,{container:!0,spacing:2,direction:"column",style:{maxWidth:"500px"},children:[Object(x.jsx)(v.a,{item:!0,children:Object(x.jsx)(Q.a,{name:"residency.city",control:t,render:function(e){var t=e.field,r=t.onChange,a=t.value,c=e.fieldState.error;return Object(x.jsx)(O.a,{label:"gr"===n?"\u03a0\u03cc\u03bb\u03b7":"City",variant:"outlined",value:a,onChange:function(e){return r(Object(ce.a)(Object(ce.a)({},e),{},{target:Object(ce.a)(Object(ce.a)({},e.target),{},{value:e.target.value.replace(/[0-9]+/gi,"")})}))},fullWidth:!0,error:!!c})}})}),Object(x.jsx)(v.a,{item:!0,children:Object(x.jsx)(Q.a,{name:"residency.address",control:t,render:function(e){var t=e.field,r=t.onChange,a=t.value,c=e.fieldState.error;return Object(x.jsx)(O.a,{label:"gr"===n?"\u0394\u03b9\u03b5\u03c5\u03b8\u03c5\u03bd\u03c3\u03b7":"Address",variant:"outlined",value:a,onChange:r,fullWidth:!0,error:!!c})}})}),Object(x.jsx)(v.a,{item:!0,children:Object(x.jsx)(Q.a,{name:"residency.phone",control:t,render:function(e){var t=e.field,r=t.onChange,a=t.value,c=e.fieldState.error;return Object(x.jsx)(O.a,{label:"gr"===n?"\u03a4\u03b7\u03bb\u03b5\u03c6\u03c9\u03bd\u03bf":"Phone",variant:"outlined",value:a,onChange:function(e){return r(Object(ce.a)(Object(ce.a)({},e),{},{target:Object(ce.a)(Object(ce.a)({},e.target),{},{value:e.target.value.replace(/e/gi,"")})}))},fullWidth:!0,error:!!c,type:"number"})}})})]})},we=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BE_URL,"/forms/").concat(t),{credentials:"include"});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.t1=JSON,e.next=13,n.text();case 13:throw e.t2=e.sent,e.t3=n.status,e.t4={text:e.t2,status:e.t3},e.t5=e.t1.stringify.call(e.t1,e.t4),new e.t0(e.t5);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=we,Ce=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BE_URL,"/users/refresh"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",credentials:"include"});case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.t1=JSON,e.next=13,t.text();case 13:throw e.t2=e.sent,e.t3=t.status,e.t4={text:e.t2,status:e.t3},e.t5=e.t1.stringify.call(e.t1,e.t4),new e.t0(e.t5);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=Ce,Te=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BE_URL,"/forms/").concat(t.id),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t),credentials:"include"});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.t1=JSON,e.next=13,n.text();case 13:throw e.t2=e.sent,e.t3=n.status,e.t4={text:e.t2,status:e.t3},e.t5=e.t1.stringify.call(e.t1,e.t4),new e.t0(e.t5);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=Te,Ae=n(427),Pe=n(469),Re=n(196),De=n.n(Re),We=function(e){var t=e.word,n=(e.lang,Object(r.useState)("")),a=Object(l.a)(n,2),c=(a[0],a[1]),i=Object(r.useState)(!1),o=Object(l.a)(i,2),s=(o[0],o[1],Object(r.useState)(new Audio(null))),u=Object(l.a)(s,2),d=u[0],j=u[1];Object(r.useEffect)((function(){var e;t&&(e="".concat("","/assets/").concat(t,".mp3"),c(e),j(new Audio(e)))}),[]);return Object(x.jsx)("div",{children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)(R.a,{"aria-label":"play",color:"primary",onClick:function(){return d.currentTime=0,void d.play()},children:Object(x.jsx)(De.a,{})}),t]})})},Fe=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(x.jsxs)(p.a,{sx:{position:"fixed",bottom:16,right:16,zIndex:2},children:[Object(x.jsx)(p.a,{sx:{position:"absolute",bottom:62,right:0},children:n&&Object(x.jsx)(Ae.a,Object(ce.a)(Object(ce.a)({in:n,style:{transformOrigin:"bottom right"}},n?{timeout:800}:{}),{},{children:Object(x.jsxs)($.a,{elevation:3,style:{width:"250px",padding:"8px"},children:[Object(x.jsx)("div",{style:{height:"380px",overflowX:"hidden"},children:["\u03b1\u03af\u03c4\u03b7\u03c3\u03b7","\u03b1\u03b9\u03c4\u03ce\u03bd","\u03b1\u03bd\u03c4\u03af\u03b3\u03c1\u03b1\u03c6\u03bf","\u03b3\u03ac\u03bc\u03bf\u03c2","\u03b3\u03ad\u03bd\u03bd\u03b7\u03c3\u03b7","\u03b3\u03b9\u03b1\u03c4\u03c1\u03cc\u03c2","\u03b3\u03bb\u03ce\u03c3\u03c3\u03b1","\u03b3\u03bf\u03bd\u03ad\u03b1\u03c2","\u03b4\u03b7\u03bb\u03ce\u03bd\u03c9","\u03b4\u03ae\u03bb\u03c9\u03c3\u03b7","\u03b4\u03ae\u03bc\u03bf\u03c2","\u03b4\u03b7\u03bc\u03cc\u03c3\u03b9\u03bf\u03c2","\u03b4\u03b9\u03b1\u03b2\u03b1\u03c4\u03ae\u03c1\u03b9\u03bf","\u03b4\u03b9\u03b1\u03b4\u03b9\u03ba\u03b1\u03c3\u03af\u03b1","\u03b4\u03b9\u03b5\u03c5\u03b8\u03c5\u03bd\u03c4\u03ae\u03c2","\u03b4\u03b9\u03ba\u03b1\u03c3\u03c4\u03ae\u03c1\u03b9\u03bf","\u03ad\u03b3\u03b3\u03c1\u03b1\u03c6\u03bf\u03c2","\u03ad\u03ba\u03b4\u03bf\u03c3\u03b7","\u03b5\u03c0\u03b9\u03b8\u03c5\u03bc\u03ce","\u03b5\u03c0\u03ce\u03bd\u03c5\u03bc\u03bf","\u03ad\u03c4\u03bf\u03c2","\u03b7\u03bb\u03b9\u03ba\u03af\u03b1","\u03b7\u03bc\u03ad\u03c1\u03b1","\u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1","\u03ba\u03b1\u03c4\u03bf\u03b9\u03ba\u03af\u03b1","\u03bb\u03b7\u03be\u03b9\u03b1\u03c1\u03c7\u03b5\u03af\u03bf","\u03bb\u03b7\u03be\u03af\u03b1\u03c1\u03c7\u03bf\u03c2","\u03bc\u03b1\u03af\u03b1","\u03bc\u03b1\u03b9\u03b5\u03c5\u03c4\u03ae\u03c1\u03b9\u03bf","\u03bc\u03ae\u03bd\u03b1\u03c2","\u03bc\u03b7\u03c4\u03ad\u03c1\u03b1","\u03bd\u03b5\u03bf\u03b3\u03bd\u03cc","\u03bd\u03bf\u03c3\u03bf\u03ba\u03bf\u03bc\u03b5\u03af\u03bf","\u03be\u03ad\u03bd\u03bf\u03c2","\u03cc\u03bd\u03bf\u03bc\u03b1","\u03c0\u03b1\u03b9\u03b4\u03af","\u03c0\u03b1\u03c4\u03ad\u03c1\u03b1\u03c2","\u03c0\u03b1\u03c4\u03c1\u03cc\u03c4\u03b7\u03c4\u03b1","\u03c0\u03b9\u03c3\u03c4\u03bf\u03c0\u03bf\u03b9\u03b7\u03c4\u03b9\u03ba\u03cc","\u03c0\u03bf\u03bb\u03af\u03c4\u03b7\u03c2","\u03c4\u03ad\u03ba\u03bd\u03bf","\u03c4\u03bf\u03ba\u03b5\u03c4\u03cc\u03c2","\u03c4\u03cc\u03c0\u03bf\u03c2","\u03c7\u03ce\u03c1\u03b1"].map((function(e){return Object(x.jsx)(We,{word:e,lang:"eng"},e)}))}),Object(x.jsx)(p.a,{sx:{color:"darkgray",fontStyle:"italic"},children:Object(x.jsxs)(m.a,{style:{textAlign:"right"},children:["Powered by",Object(x.jsx)("a",{href:"https://testcalst.hf.ntnu.no/Exercise/no/3093?wrid=1404",alt:"CALST",target:"_blank",rel:"noopener noreferrer",children:Object(x.jsx)("img",{src:"".concat("","/assets/easyrights-logo.jpg"),target:"_blank",rel:"noreferrer",width:"90px",alt:"easyright logo",style:{verticalAlign:"bottom"}})})]})})]})}))}),Object(x.jsx)(p.a,{onClick:function(){return a(!n)},role:"presentation",children:Object(x.jsx)(Pe.a,{color:"primary",size:"large",sx:{borderRadius:"50%",overflow:"hidden"},children:Object(x.jsx)("img",{id:"calst-logo",src:"".concat("","/assets/calst-logo.png"),width:"85px",alt:"CALST logo"})})})]})},Le=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BE_URL,"/forms/").concat(t),{headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",method:"DELETE"});case 2:if(!(n=e.sent).ok){e.next=7;break}return e.abrupt("return");case 7:return e.t0=Error,e.t1=JSON,e.next=11,n.text();case 11:throw e.t2=e.sent,e.t3=n.status,e.t4={text:e.t2,status:e.t3},e.t5=e.t1.stringify.call(e.t1,e.t4),new e.t0(e.t5);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=Le,Ue=function(){var e=Object(j.c)((function(e){return e.user})),t=Object(j.c)((function(e){return e.lang}));Oe.a.vfs=me.a.pdfMake.vfs;var n=Object(r.useState)(""),a=Object(l.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(!1),_=Object(l.a)(s,2),f=_[0],O=_[1],v=Object(r.useState)(!0),m=Object(l.a)(v,2),y=m[0],S=(m[1],Object(r.useState)(0)),w=Object(l.a)(S,2),E=w[0],C=w[1],k=[xe.a().shape({mother:xe.a().shape({lastName:xe.b().required(),firstName:xe.b().required(),ssn:xe.b().required()})}),xe.a().shape({father:xe.a().shape({lastName:xe.b(),firstName:xe.b(),ssn:xe.b()})}),xe.a().shape({residency:xe.a().shape({city:xe.b().required(),address:xe.b().required(),phone:xe.b().required()})})],T=Object(Q.e)({shouldUnregister:!1,defaultValues:{father:{lastName:"",firstName:"",ssn:""},mother:{lastName:"",firstName:"",ssn:""},residency:{city:"",address:"",phone:""}},resolver:Object(fe.a)(k[E]),mode:"onChange"}),N=T.control,A=T.getValues,P=T.handleSubmit,R=T.trigger,D=T.reset,W=[{label:"gr"===t?"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u039c\u03b7\u03c4\u03ad\u03c1\u03b1\u03c2":"Info of Mother",content:Object(x.jsx)(ye,{control:N,isWritable:y})},{label:"gr"===t?"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a0\u03b1\u03c4\u03ad\u03c1\u03b1":"Info of Father",content:Object(x.jsx)(ge,{control:N,isWritable:y})},{label:"gr"===t?"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u039a\u03b1\u03c4\u03bf\u03b9\u03ba\u03af\u03b1\u03c2":"Adderess Info",content:Object(x.jsx)(Se,{control:N,isWritable:y})}],F=Object(b.g)().formId,L=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:e.sent&&C((function(e){return e+1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){C((function(e){return e-1}))},U=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee(F);case 3:n=e.sent,i(null===n||void 0===n?void 0:n.createdBy),D(n),e.next=28;break;case 8:if(e.prev=8,e.t0=e.catch(0),404!==(null===JSON||void 0===JSON||null===(r=JSON.parse(null===e.t0||void 0===e.t0||null===(a=e.t0.toString())||void 0===a?void 0:a.replace("Error: ","")))||void 0===r?void 0:r.status)){e.next=14;break}O(!0),e.next=28;break;case 14:if(!t){e.next=27;break}return e.prev=15,e.next=18,ke();case 18:return e.next=20,U(!1);case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(15),console.error(e.t1);case 25:e.next=28;break;case 27:console.error(e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,8],[15,22]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var t=Object(o.a)(u.a.mark((function t(n,r,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne(Object(ce.a)(Object(ce.a)({},n),{},{stage:a}));case 3:window.location.replace("refugee"===(null===e||void 0===e?void 0:e.role)?"refugee"===(null===n||void 0===n?void 0:n.createdBy)?"/preperation":"/":"refugee"===(null===n||void 0===n?void 0:n.createdBy)?"/preparedForms":"/"),t.next=22;break;case 6:if(t.prev=6,t.t0=t.catch(0),!r){t.next=21;break}return t.prev=9,t.next=12,ke();case 12:return t.next=14,B(n,!1,a);case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(9),console.error(t.t1);case 19:t.next=22;break;case 21:console.error(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,6],[9,16]])})));return function(e,n,r){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){e||(window.location.href="/login")}),[e]),Object(r.useEffect)((function(){return U(!0)}),[F]),Object(x.jsx)(d.a,{component:"main",children:f?Object(x.jsx)(g.a,{color:"warning",children:"municipality"===(null===e||void 0===e?void 0:e.role)||"gr"===t?"\u0397 \u03c6\u03bf\u03c1\u03bc\u03b1 \u03b4\u03b5\u03bd \u03b2\u03c1\u03b5\u03b8\u03b7\u03ba\u03b5":"Form Not Found"}):Object(x.jsx)("form",{children:Object(x.jsx)(p.a,{sx:{justifyContent:"flex-start"},children:Object(x.jsx)(ie.a,{activeStep:E,orientation:"vertical",children:W.map((function(n){return Object(x.jsxs)(oe.a,{children:[Object(x.jsx)(le.a,{children:n.label}),Object(x.jsxs)(se.a,{style:{textAlign:"-webkit-center"},children:[(r=E,W[r].content),2===E&&"refugee"!==(null===e||void 0===e?void 0:e.role)&&"refugee"===c&&Object(x.jsxs)(g.a,{color:"warning",sx:{m:2,maxWidth:400},children:[Object(x.jsx)(ue.a,{children:"municipality"===(null===e||void 0===e?void 0:e.role)||"gr"===t?"\u0398\u03b5\u03bb\u03b5\u03c4\u03b5 \u03c3\u03b9\u03b3\u03bf\u03c5\u03c1\u03b1 \u03bd\u03b1 \u03b1\u03bb\u03bb\u03b1\u03be\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03b7 \u03c4\u03b7\u03bd \u03c6\u03bf\u03c1\u03bc\u03b1":"Are you sure you want to updated it?"}),"municipality"===(null===e||void 0===e?void 0:e.role)||"gr"===t?"\u0391\u03c5\u03c4\u03b7 \u03b7 \u03c6\u03bf\u03c1\u03bc\u03b1 \u03b4\u03b7\u03bc\u03b9\u03bf\u03c5\u03c1\u03b3\u03b7\u03b8\u03b7\u03ba\u03b5 \u03b1\u03c0\u03bf \u03c0\u03c1\u03bf\u03c3\u03c6\u03c5\u03b3\u03b1":"This is a form created by a refugee."]}),Object(x.jsxs)(p.a,{sx:{display:"flex",maxWidth:"500px",p:1,mt:2},children:[Object(x.jsx)(h.a,{color:"secondary",disabled:0===E,onClick:I,variant:"contained",startIcon:Object(x.jsx)(pe.a,{}),children:"municipality"===(null===e||void 0===e?void 0:e.role)||"gr"===t?"\u03a0\u03b9\u03c3\u03c9":"Back"}),Object(x.jsx)(p.a,{sx:{flex:"1 0 auto"}}),2!==E?Object(x.jsx)(h.a,{onClick:L,variant:"contained",endIcon:Object(x.jsx)(_e.a,{}),children:"municipality"===(null===e||void 0===e?void 0:e.role)||"gr"===t?"\u0395\u03c0\u03bf\u03bc\u03b5\u03bd\u03bf":"Next"}):Object(x.jsxs)(de.a,{variant:"contained",children:[Object(x.jsx)(h.a,{onClick:P((function(e){return B(e,!0,"edit")})),variant:"contained",disabled:"edit"!==A().stage,children:"municipality"===(null===e||void 0===e?void 0:e.role)||"gr"===t?"\u0391\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7":"Save"}),Object(x.jsx)(h.a,{onClick:P((function(e){return B(e,!0,"done")})),variant:"outlined",disabled:"edit"!==A().stage,children:"municipality"===(null===e||void 0===e?void 0:e.role)||"gr"===t?"\u039f\u03c1\u03b9\u03c3\u03c4\u03b9\u03ba\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7":"Submit"})]})]})]})]},n.label);var r}))})})})})},Be=n(440),He=n(445),Ke=n(452),Je=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BE_URL,"/forms").concat(t?"?type="+t:""),{credentials:"include"});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.t1=JSON,e.next=13,n.text();case 13:throw e.t2=e.sent,e.t3=n.status,e.t4={text:e.t2,status:e.t3},e.t5=e.t1.stringify.call(e.t1,e.t4),new e.t0(e.t5);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=Je,ze=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BE_URL,"/users/refugees"),{credentials:"include"});case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.t1=JSON,e.next=13,t.text();case 13:throw e.t2=e.sent,e.t3=t.status,e.t4={text:e.t2,status:e.t3},e.t5=e.t1.stringify.call(e.t1,e.t4),new e.t0(e.t5);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=ze,Ge=n(199),qe=n(443),Xe=n(472),Ye=n(434),Qe=n(435),Ze=n(473),$e=n(478),et=n(474),tt=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BE_URL,"/forms"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({userId:t}),credentials:"include"});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.t1=JSON,e.next=13,n.text();case 13:throw e.t2=e.sent,e.t3=n.status,e.t4={text:e.t2,status:e.t3},e.t5=e.t1.stringify.call(e.t1,e.t4),new e.t0(e.t5);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=tt,rt=function(e){var t,n=Object(r.useState)(0),a=Object(l.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(10),_=Object(l.a)(s,2),b=_[0],p=_[1],f=Object(r.useState)([]),O=Object(l.a)(f,2),g=O[0],y=O[1],S=Object(r.useState)([]),w=Object(l.a)(S,2),E=w[0],C=w[1],k=Object(r.useState)(!1),T=Object(l.a)(k,2),N=(T[0],T[1]),A=Object(r.useState)([]),P=Object(l.a)(A,2),R=(P[0],P[1]),D=Object(r.useState)(""),W=Object(l.a)(D,2),F=W[0],L=W[1],I=Object(r.useState)(!1),U=Object(l.a)(I,2),B=U[0],H=U[1],K=Object(r.useState)("all"),J=Object(l.a)(K,2),V=J[0],z=J[1],M=Object(j.c)((function(e){return e.user})),G=Object(j.c)((function(e){return e.lang})),q=Object(r.useRef)(),X=[{id:"stage",label:"gr"===G?"\u03a3\u03c4\u03ac\u03b4\u03b9\u03bf":"Stage",minWidth:170},{id:"fatherFullName",label:"gr"===G?"\u038c\u03bd\u03bf\u03bc\u03b1 \u03a0\u03b1\u03c4\u03ad\u03c1\u03b1":"Father Name",minWidth:100},{id:"motherFullName",label:"gr"===G?"\u038c\u03bd\u03bf\u03bc\u03b1 \u039c\u03b7\u03c4\u03ad\u03c1\u03b1\u03c2":"Mother Name"},{id:"phone",label:"gr"===G?"\u03a4\u03b7\u03bb\u03b5\u03c6\u03c9\u03bd\u03bf":"Phone",minWidth:100},{id:"options",label:"gr"===G?"\u0391\u03bb\u03bb\u03bf":"Other",minWidth:100}];Oe.a.vfs=me.a.pdfMake.vfs;var Y=function(e){H(e)},Q=function(){var t=Object(o.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ve(e.type);case 3:r=t.sent,C(r),y(r.sort((function(e,t){var n;return null===t||void 0===t||null===(n=t.updatedAt)||void 0===n?void 0:n.localeCompare(null===e||void 0===e?void 0:e.updatedAt)})).map((function(e){var t;return{id:e.id,stage:e.stage,fatherFullName:"".concat(e.father.firstName||""," ").concat(e.father.lastName||""),motherFullName:"".concat(e.mother.firstName||""," ").concat(e.mother.lastName||""),phone:null===(t=e.residency)||void 0===t?void 0:t.phone}}))),t.next=24;break;case 8:if(t.prev=8,t.t0=t.catch(0),!n){t.next=23;break}return t.prev=11,t.next=14,ke();case 14:return t.next=16,Q(!1);case 16:t.next=21;break;case 18:t.prev=18,t.t1=t.catch(11),console.error(t.t1);case 21:t.next=24;break;case 23:console.error(t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,8],[11,18]])})));return function(e){return t.apply(this,arguments)}}(),ie=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me();case 3:r=e.sent,R(r),L(null===(n=r[0])||void 0===n?void 0:n.id),e.next=24;break;case 8:if(e.prev=8,e.t0=e.catch(0),!t){e.next=23;break}return e.prev=11,e.next=14,ke();case 14:return e.next=16,ie(!1);case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(11),console.error(e.t1);case 21:e.next=24;break;case 23:console.error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,8],[11,18]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(o.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ie(n);case 3:Y(!1),window.location.replace("refugee"===(null===M||void 0===M?void 0:M.role)?"/preperation":"refugee"===(null===E||void 0===E||null===(r=E.find((function(e){return(null===e||void 0===e?void 0:e.id)===n})))||void 0===r?void 0:r.createdBy)?"/preparedForms":"/"),e.next=23;break;case 7:if(e.prev=7,e.t0=e.catch(0),!t){e.next=22;break}return e.prev=10,e.next=13,ke();case 13:return e.next=15,oe(!1);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),console.error(e.t1);case 20:e.next=23;break;case 22:console.error(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,7],[10,17]])})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(o.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=null===g||void 0===g?void 0:g.find((function(e){return(null===e||void 0===e?void 0:e.id)===B})),e.next=4,Ne(Object(ce.a)(Object(ce.a)({},a),{},{stage:"deleted"}));case 4:Y(!1),window.location.replace("refugee"===(null===M||void 0===M?void 0:M.role)?"/preperation":"refugee"===(null===E||void 0===E||null===(r=E.find((function(e){return(null===e||void 0===e?void 0:e.id)===n})))||void 0===r?void 0:r.createdBy)?"/preparedForms":"/"),e.next=24;break;case 8:if(e.prev=8,e.t0=e.catch(0),!t){e.next=23;break}return e.prev=11,e.next=14,ke();case 14:return e.next=16,le(!1,n);case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(11),console.error(e.t1);case 21:e.next=24;break;case 23:console.error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,8],[11,18]])})));return function(t,n){return e.apply(this,arguments)}}(),se=0!==E.length?E.map((function(e){return[e.father.firstName,e.father.lastName,e.father.ssn,e.mother.firstName,e.mother.lastName,e.mother.ssn,e.residency.city,e.residency.address,e.residency.phone]})):"\u0394\u0395\u039d \u03a5\u03a0\u0391\u03a1\u03a7\u039f\u03a5\u039d \u03a3\u03a4\u039f\u0399\u03a7\u0395\u0399\u0391",ue=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt(F);case 3:n=e.sent,N(!1),window.location.replace("/forms/".concat(n.id)),e.next=24;break;case 8:if(e.prev=8,e.t0=e.catch(0),!t){e.next=23;break}return e.prev=11,e.next=14,ke();case 14:return e.next=16,nt(!1);case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(11),console.error(e.t1);case 21:e.next=24;break;case 23:console.error(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,8],[11,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){M||(window.location.href="/login")}),[M]),Object(r.useEffect)((function(){return Q(!0)}),[e.type]),Object(r.useEffect)((function(){return"municipalityForms"===e.type&&ie(!0)}),[e.type]),Object(x.jsxs)(d.a,{children:["preparedForms"===e.type?Object(x.jsx)(m.a,{component:"h5",variant:"h5",sx:{mb:4},children:"municipality"===(null===M||void 0===M?void 0:M.role)||"gr"===G?"\u03a6\u03bf\u03c1\u03bc\u03b5\u03c2 \u03a0\u03c1\u03bf\u03c3\u03c6\u03c5\u03b3\u03c9\u03bd":"Refugee Forms"}):"municipalityForms"===e.type&&Object(x.jsx)(m.a,{component:"h5",variant:"h5",sx:{mb:4},children:"municipality"===(null===M||void 0===M?void 0:M.role)||"gr"===G?"\u03a6\u03bf\u03c1\u03bc\u03b5\u03c2 \u039b\u03b7\u03be\u03b9\u03b1\u03c1\u03c7\u03b5\u03b9\u03bf\u03c5":"Municipality Forms"}),"validateForms"!==e.type&&"preparedForms"!==e.type&&Object(x.jsxs)(v.a,{sx:{display:"flex",justifyContent:"flex-end",my:2},children:["municipality"===(null===M||void 0===M?void 0:M.role)&&Object(x.jsxs)("div",{children:[Object(x.jsx)(h.a,{variant:"outlined",onClick:function(){q.current.link.click()},sx:{mx:3},children:"gr"===G?"\u039b\u03b7\u03c8\u03b7 Backup":"Download Backup"}),Object(x.jsx)(Ge.CSVLink,{ref:q,data:se,headers:["\u039f\u039d\u039f\u039c\u0391 \u03a0\u0391\u03a4\u0395\u03a1\u0391","\u0395\u03a0\u0399\u0398\u0395\u03a4\u039f \u03a0\u0391\u03a4\u0395\u03a1\u0391","\u0391\u0394\u03a4 \u03a0\u0391\u03a4\u0395\u03a1\u0391","\u039f\u039d\u039f\u039c\u0391 \u039c\u0397\u03a4\u0395\u03a1\u0391\u03a3","\u0395\u03a0\u0399\u0398\u0395\u03a4\u039f \u039c\u0397\u03a4\u0395\u03a1\u0391\u03a3","\u0391\u0394\u03a4 \u039c\u0397\u03a4\u0395\u03a1\u0391\u03a3","\u03a0\u039f\u039b\u0397 \u039a\u0391\u03a4\u039f\u0399\u039a\u0399\u0391\u03a3","\u0394\u0399\u0395\u03a5\u0398\u03a5\u039d\u03a3\u0397 \u039a\u0391\u03a4\u039f\u0399\u039a\u0399\u0391\u03a3","\u03a4\u0397\u039b\u0395\u03a6\u03a9\u039d\u039f"],className:"hidden",separator:";",filename:"backup_data.csv"})]}),Object(x.jsx)(h.a,{variant:"contained",disabled:g.filter((function(e){return"deleted"!==e.stage})).length>=2&&"refugee"===(null===M||void 0===M?void 0:M.role),onClick:function(){return ue(!0)},children:g.filter((function(e){return"deleted"!==e.stage})).length>=2&&"refugee"===(null===M||void 0===M?void 0:M.role)?"gr"===G?"\u039c\u03b5\u03b3\u03b9\u03c3\u03c4\u03bf\u03c2 \u03b1\u03c1\u03b9\u03b8\u03bc\u03bf\u03c2 \u03c6\u03bf\u03c1\u03bc\u03c9\u03bd: 2":"Max forms allowed: 2":"municipality"===(null===M||void 0===M?void 0:M.role)||"gr"===G?"\u039d\u03b5\u03b1 \u03a6\u03bf\u03c1\u03bc\u03b1":"Add Form"})]}),Object(x.jsxs)(qe.a,{value:V,onChange:function(e,t){return z(t)},textColor:"primary",indicatorColor:"primary","aria-label":"primary tabs example",children:[Object(x.jsx)(Xe.a,{value:"all",label:"gr"===G?"\u038c\u03bb\u03b5\u03c2":"All"}),Object(x.jsx)(Xe.a,{value:"edit",label:"preperation"===e.type||"preparedForms"===e.type?"gr"===G?"\u03a3\u03b5 \u03a3\u03cd\u03bd\u03c4\u03b1\u03be\u03b7":"Temporarily Saved":"gr"===G?"\u03a3\u03b5 \u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1":"Temporarily Saved"}),Object(x.jsx)(Xe.a,{value:"done",label:"preperation"===e.type||"preparedForms"===e.type?"gr"===G?"\u03a5\u03c0\u03bf\u03b2\u03bb\u03b7\u03b8\u03b5\u03af\u03c3\u03b5\u03c2":"Submitted":"gr"===G?"\u039f\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03c9\u03bc\u03ad\u03bd\u03b5\u03c2":"Submitted"}),Object(x.jsx)(Xe.a,{value:"deleted",label:"gr"===G?"\u0394\u03b9\u03b5\u03b3\u03c1\u03b1\u03bc\u03ad\u03bd\u03b5\u03c2":"Deleted"})]}),Object(x.jsxs)($.a,{sx:{width:"100%",overflow:"hidden"},children:[Object(x.jsx)(Z.a,{sx:{maxHeight:440},children:Object(x.jsxs)(ee.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(x.jsx)(te.a,{children:Object(x.jsx)(ne.a,{style:{height:20},children:X.map((function(e){return Object(x.jsx)(re.a,{align:e.align,style:{fontWeight:"bold",minWidth:e.minWidth,height:"auto !important"},children:e.label},e.id)}))})}),Object(x.jsx)(ae.a,{children:g.slice(c*b,c*b+b).filter((function(e){return"all"===V||e.stage===V})).map((function(t){return Object(x.jsx)(ne.a,{hover:!0,role:"checkbox",tabIndex:-1,children:X.map((function(n,r){var a=t[n.id];return Object(x.jsx)(re.a,{align:n.align,className:"no-select",onClick:function(){return 3!==r&&window.location.replace("/forms/".concat(t.id))},sx:{cursor:3!==r?"pointer":"default"},children:"stage"===n.id?Object(x.jsx)(Ke.a,{label:"preperation"===e.type||"preparedForms"===e.type?"edit"===t.stage?"gr"===G?"\u03a3\u03b5 \u03a3\u03cd\u03bd\u03c4\u03b1\u03be\u03b7":"Temporarily Saved":"done"===t.stage?"gr"===G?"\u03a5\u03c0\u03bf\u03b2\u03bb\u03b7\u03b8\u03b5\u03af\u03c3\u03b1":"Submitted":"deleted"===t.stage?"gr"===G?"\u0394\u03b9\u03b5\u03b3\u03c1\u03b1\u03bc\u03ad\u03bd\u03b5\u03c2":"Deleted":"gr"===G?"\u0386\u03b3\u03bd\u03c9\u03c3\u03c4\u03bf":"Unknown":"edit"===t.stage?"gr"===G?"\u03a3\u03b5 \u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03ac\u03c3\u03b9\u03b1":"Temporarily Saved":"done"===t.stage?"gr"===G?"\u039f\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03c9\u03bc\u03ad\u03bd\u03b5\u03c2":"Submitted":"deleted"===t.stage?"gr"===G?"\u0394\u03b9\u03b5\u03b3\u03c1\u03b1\u03bc\u03ad\u03bd\u03b5\u03c2":"Deleted":"gr"===G?"\u0386\u03b3\u03bd\u03c9\u03c3\u03c4\u03bf":"Unknown",color:"edit"===t.stage?"warning":"done"===t.stage?"success":"deleted"===t.stage?"error":"default",variant:"outlined"}):3===r?Object(x.jsxs)(de.a,{children:[Object(x.jsx)(h.a,{variant:"outlined",color:"success",size:"small",disabled:"edit"!==t.stage,onClick:function(){return window.location.replace("/forms/".concat(t.id))},children:"gr"===G?"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03b9\u03b1":"Edit"}),Object(x.jsx)(h.a,{variant:"outlined",color:"info",size:"small",onClick:function(){var e,n,r,a,c,i,o,l,s,u,d,j,_,b,p,f,x,h,O=E.find((function(e){return e.id===t.id}));Oe.a.createPdf({content:[{columns:[{width:350,text:"\u0391\u0399\u03a4\u0397\u03a3\u0397 \u039f\u039d\u039f\u039c\u0391\u03a4\u039f\u0394\u039f\u03a3\u0399\u0391\u03a3\n\n\n\n",style:"header"},{text:[{style:"spreadLine",text:"\u039b\u03ac\u03c1\u03b9\u03c3\u03b1............................\n\u0391\u03c1\u03b9\u03b8.\u03a0\u03c1\u03c9\u03c4......................\n"},"\u03a0\u03c1\u03bf\u03c2 \u03c4\u03bf \u039b\u03b7\u03be\u03b9\u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u0394\u0395 \u039b\u03b1\u03c1\u03b9\u03c3\u03b1\u03af\u03c9\u03bd\n\n\n\n"]}]},{columns:[{width:300,style:"spreadLine",text:["\u0395\u03c0\u03ce\u03bd\u03c5\u03bc\u03bf \u03c0\u03b1\u03c4\u03ad\u03c1\u03b1: ",{color:"#00f",text:"".concat(null!==O&&void 0!==O&&null!==(e=O.father)&&void 0!==e&&e.lastName?null===O||void 0===O||null===(n=O.father)||void 0===n?void 0:n.lastName:"____________________________________")},"\n\u038c\u03bd\u03bf\u03bc\u03b1 \u03c0\u03b1\u03c4\u03ad\u03c1\u03b1: ",{color:"#00f",text:"".concat(null!==O&&void 0!==O&&null!==(r=O.father)&&void 0!==r&&r.firstName?null===O||void 0===O||null===(a=O.father)||void 0===a?void 0:a.firstName:"_______________________________________")},"\n\u0391.\u0394.\u03a4.: ",{color:"#00f",text:"".concat(null!==O&&void 0!==O&&null!==(c=O.father)&&void 0!==c&&c.ssn?null===O||void 0===O||null===(i=O.father)||void 0===i?void 0:i.ssn:"________________________________________________")},"\n\n\u0395\u03c0\u03ce\u03bd\u03c5\u03bc\u03bf \u03bc\u03b7\u03c4\u03ad\u03c1\u03b1\u03c2: ",{color:"#00f",text:"".concat(null!==O&&void 0!==O&&null!==(o=O.mother)&&void 0!==o&&o.lastName?null===O||void 0===O||null===(l=O.mother)||void 0===l?void 0:l.lastName:"___________________________________")},"\n\u038c\u03bd\u03bf\u03bc\u03b1 \u03bc\u03b7\u03c4\u03ad\u03c1\u03b1\u03c2: ",{color:"#00f",text:"".concat(null!==O&&void 0!==O&&null!==(s=O.mother)&&void 0!==s&&s.firstName?null===O||void 0===O||null===(u=O.mother)||void 0===u?void 0:u.firstName:"______________________________________")},"\n\u0391.\u0394.\u03a4.: ",{color:"#00f",text:"".concat(null!==O&&void 0!==O&&null!==(d=O.mother)&&void 0!==d&&d.ssn?null===O||void 0===O||null===(j=O.mother)||void 0===j?void 0:j.ssn:"________________________________________________")}]},{width:"*",text:["\u03a3\u03b1\u03c2 \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03bd\u03b1 \u03c0\u03c1\u03bf\u03b2\u03b5\u03af\u03c4\u03b5 \u03c3\u03b5\n\u03ba\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u03c4\u03bf\u03c5 \u03bf\u03bd\u03cc\u03bc\u03b1\u03c4\u03bf\u03c2 \u03c4\u03bf\u03c5\n\u03c4\u03ad\u03ba\u03bd\u03bf\u03c5 \u03bc\u03b1\u03c2, \u03c0\u03bf\u03c5 \u03b3\u03b5\u03bd\u03bd\u03ae\u03b8\u03b7\u03ba\u03b5 \u03c3\u03c4\u03b7\n\u039b\u03ac\u03c1\u03b9\u03c3\u03b1 \u03c3\u03c4\u03b9\u03c2:\n\n\n\u039c\u03b5 \u03b1\u03c1\u03b9\u03b8\u03bc. \u039b\u03b7\u03be. \u03a0\u03c1\u03ac\u03be\u03b7\u03c2 \u03b3\u03b5\u03bd:\n\n\n",{decoration:"underline",text:"\u039c\u03b5 \u03c4\u03bf \u03cc\u03bd\u03bf\u03bc\u03b1:\n\n"},{text:"____________________________________\n____________________________________\n____________________________________"}]}]},{decoration:"underline",text:"\n\n\u039a\u03b1\u03c4\u03bf\u03b9\u03ba\u03af\u03b1\n\n"},{style:"spreadLine",text:["\u03a0\u03cc\u03bb\u03b7: ",{color:"#00f",text:"".concat(null!==O&&void 0!==O&&null!==(_=O.residency)&&void 0!==_&&_.city?null===O||void 0===O||null===(b=O.residency)||void 0===b?void 0:b.city:"_______________________________________________")},"\n\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7: ",{color:"#00f",text:"".concat(null!==O&&void 0!==O&&null!==(p=O.residency)&&void 0!==p&&p.address?null===O||void 0===O||null===(f=O.residency)||void 0===f?void 0:f.address:"__________________________________________\n______________________________________________________")},"\n\u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf: ",{color:"#00f",text:"".concat(null!==O&&void 0!==O&&null!==(x=O.residency)&&void 0!==x&&x.phone?null===O||void 0===O||null===(h=O.residency)||void 0===h?void 0:h.phone:"___________________________________________")},"\n\n\n\n\n"]},{columns:[{},{},{text:[{style:"subheader",alignment:"center",text:"\u039f\u03b9 \u03b1\u03b9\u03c4\u03bf\u03cd\u03bd\u03c4\u03b5\u03c2\n\n\n"},"\u039f \u03c0\u03b1\u03c4\u03ad\u03c1\u03b1\u03c2\n\n\n\n\n\u0397 \u03bc\u03b7\u03c4\u03ad\u03c1\u03b1"]}]}],styles:{header:{fontSize:18,bold:!0},subheader:{fontSize:15,bold:!0},bigger:{fontSize:15,italics:!0},spreadLine:{lineHeight:1.5}},defaultStyle:{columnGap:20}}).open()},children:"PDF"}),Object(x.jsx)(h.a,{variant:"outlined",color:"error",size:"small",disabled:"deleted"===t.stage,onClick:function(){return H(t.id)},children:"gr"===G?"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03b7":"Delete"})]}):a},n.id)}))},t.id)}))})]})}),Object(x.jsx)(He.a,{component:"div",count:g.length,rowsPerPage:b,page:c,onPageChange:function(e,t){i(t)},onRowsPerPageChange:function(e){p(+e.target.value),i(0)},labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"\u2013").concat(n," ").concat("gr"===G?"\u03b1\u03c0\u03bf":"from"," ").concat(-1!==r?r:"".concat("gr"===G?"\u03c0\u03b5\u03c1\u03b9\u03c3\u03c3\u03bf\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03bf":"more than"," ").concat(n))},labelRowsPerPage:"municipality"===(null===M||void 0===M?void 0:M.role)||"gr"===G?"\u03a6\u03bf\u03c1\u03bc\u03b5\u03c2 \u03b1\u03bd\u03b1 \u03c3\u03b5\u03bb\u03b9\u03b4\u03b1:":"Rows per page:"})]}),Object(x.jsx)(Ye.a,{open:B,onClose:function(){return Y(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:"edit"===(null===g||void 0===g||null===(t=g.find((function(e){return(null===e||void 0===e?void 0:e.id)===B})))||void 0===t?void 0:t.stage)?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Qe.a,{id:"alert-dialog-title",children:"municipality"===(null===M||void 0===M?void 0:M.role)||"gr"===G?"\u0398\u03b5\u03bb\u03b5\u03c4\u03b5 \u03c3\u03b9\u03b3\u03bf\u03c5\u03c1\u03b1 \u03bd\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c8\u03b5\u03c4\u03b5 \u03bf\u03c1\u03b9\u03c3\u03c4\u03b9\u03ba\u03ac \u03b1\u03c5\u03c4\u03b7\u03bd \u03c4\u03b7\u03bd \u03c6\u03bf\u03c1\u03bc\u03b1;":"Are you sure you want to permanently delete this form?"}),Object(x.jsx)(Ze.a,{children:Object(x.jsx)($e.a,{id:"alert-dialog-description",children:"municipality"===(null===M||void 0===M?void 0:M.role)||"gr"===G?"\u0391\u03c5\u03c4\u03b7 \u03b7 \u03b5\u03c0\u03b9\u03bb\u03bf\u03b3\u03b7 \u03b4\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03b9 \u03bd\u03b1 \u03b1\u03bd\u03b1\u03b9\u03c1\u03b5\u03b8\u03b5\u03b9 \u03b1\u03c1\u03b3\u03bf\u03c4\u03b5\u03c1\u03b1":"This action cannot be undone"})}),Object(x.jsxs)(et.a,{children:[Object(x.jsx)(h.a,{variant:"contained",color:"success",onClick:function(){return Y(!1)},children:"municipality"===(null===M||void 0===M?void 0:M.role)||"gr"===G?"\u0391\u03ba\u03c5\u03c1\u03c9\u03c3\u03b7":"Cancel"}),Object(x.jsx)(h.a,{variant:"outlined",color:"error",onClick:function(){return oe(!0,B)},autoFocus:!0,children:"municipality"===(null===M||void 0===M?void 0:M.role)||"gr"===G?"\u039f\u03c1\u03b9\u03c3\u03c4\u03b9\u03ba\u03ae \u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03b7":"Permanently Delete"})]})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Qe.a,{id:"alert-dialog-title",children:"municipality"===(null===M||void 0===M?void 0:M.role)||"gr"===G?"\u0398\u03b5\u03bb\u03b5\u03c4\u03b5 \u03c3\u03b9\u03b3\u03bf\u03c5\u03c1\u03b1 \u03bd\u03b1 \u03bc\u03b5\u03c4\u03b1\u03ba\u03b9\u03bd\u03b7\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03b7\u03bd \u03c4\u03b7\u03bd \u03c6\u03bf\u03c1\u03bc\u03b1 \u03c3\u03c4\u03b9\u03c2 \u03b4\u03b9\u03b5\u03b3\u03c1\u03b1\u03bc\u03bc\u03ad\u03bd\u03b5\u03c2;":"Are you sure you want to move this form to deleted stage?"}),Object(x.jsx)(Ze.a,{children:Object(x.jsx)($e.a,{id:"alert-dialog-description",children:"municipality"===(null===M||void 0===M?void 0:M.role)||"gr"===G?"\u0391\u03c5\u03c4\u03b7 \u03b7 \u03b5\u03c0\u03b9\u03bb\u03bf\u03b3\u03b7 \u03b4\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03b9 \u03bd\u03b1 \u03b1\u03bd\u03b1\u03b9\u03c1\u03b5\u03b8\u03b5\u03b9 \u03b1\u03c1\u03b3\u03bf\u03c4\u03b5\u03c1\u03b1":"This action cannot be undone"})}),Object(x.jsxs)(et.a,{children:[Object(x.jsx)(h.a,{variant:"contained",color:"success",onClick:function(){return Y(!1)},children:"municipality"===(null===M||void 0===M?void 0:M.role)||"gr"===G?"\u0391\u03ba\u03c5\u03c1\u03c9\u03c3\u03b7":"Cancel"}),Object(x.jsx)(h.a,{variant:"outlined",color:"error",onClick:function(){return le(!0,B)},autoFocus:!0,children:"municipality"===(null===M||void 0===M?void 0:M.role)||"gr"===G?"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03b7":"Delete"})]})]})})]})},at=function(){var e=Object(j.c)((function(e){return e.user})),t=Object(j.c)((function(e){return e.lang}));return Object(r.useEffect)((function(){e||(window.location.href="/login")}),[e]),Object(x.jsxs)("div",{className:"m-5",children:[Object(x.jsx)("h2",{children:"gr"===t?"\u03a0\u03bb\u03b7\u03c1\u03bf\u03c6\u03bf\u03c1\u03b9\u03b5\u03c2 \u03c3\u03c7\u03b5\u03c4\u03b9\u03ba\u03b1 \u03bc\u03b5 \u03c4\u03b7\u03bd \u03b4\u03b9\u03b1\u03b4\u03b9\u03ba\u03b1\u03c3\u03b9\u03b1":"Information about the process"}),Object(x.jsxs)(Be.a,{children:[Object(x.jsx)(Be.a.Item,{children:Object(x.jsx)("a",{href:"".concat("","/assets/").concat("gr"===t?"\u0394\u0397\u039b\u03a9\u03a3\u0397 \u0393\u0395\u039d\u039d\u0397\u03a3\u0397\u03a3.pdf":"BIRTH REGISTRATION ACT.pdf"),target:"_blank",rel:"noreferrer",children:"gr"===t?"\u0394\u0397\u039b\u03a9\u03a3\u0397 \u0393\u0395\u039d\u039d\u0397\u03a3\u0397\u03a3":"BIRTH REGISTRATION ACT"})}),Object(x.jsx)(Be.a.Item,{children:Object(x.jsx)("a",{href:"".concat("","/assets/").concat("gr"===t?"\u0391\u0399\u03a4\u0397\u03a3\u0397 \u039f\u039d\u039f\u039c\u0391\u03a4\u039f\u0394\u039f\u03a3\u0399\u0391\u03a3.pdf":"NAME DECLARATION APPLICATION.pdf"),target:"_blank",rel:"noreferrer",children:"gr"===t?"\u0391\u0399\u03a4\u0397\u03a3\u0397 \u039f\u039d\u039f\u039c\u0391\u03a4\u039f\u0394\u039f\u03a3\u0399\u0391\u03a3":"NAME DECLARATION APPLICATION"})}),Object(x.jsx)(Be.a.Item,{children:Object(x.jsx)("a",{href:"".concat("","/assets/").concat("gr"===t?"\u0394\u0397\u039b\u03a9\u03a3\u0397 \u039f\u039d\u039f\u039c\u0391\u03a4\u039f\u03a3.pdf":"NAME DECLARATION.pdf"),target:"_blank",rel:"noreferrer",children:"gr"===t?"\u0394\u0397\u039b\u03a9\u03a3\u0397 \u039f\u039d\u039f\u039c\u0391\u03a4\u039f\u03a3":"NAME DECLARATION"})})]}),Object(x.jsx)("h3",{className:"mt-5",children:"gr"===t?"\u03a0\u03c1\u03bf\u03b5\u03c4\u03bf\u03b9\u03bc\u03b1\u03c3\u03b9\u03b1 \u03b1\u03b9\u03c4\u03b7\u03c3\u03b7\u03c2 \u03bf\u03bd\u03bf\u03bc\u03b1\u03c4\u03bf\u03b4\u03bf\u03c3\u03b9\u03b1\u03c2":"Naming application preparation"}),Object(x.jsx)(rt,{type:"preperation"})]})},ct=function(){var e=Object(j.c)((function(e){return e.user})),t=Object(j.c)((function(e){return e.lang}));return Object(r.useEffect)((function(){e||(window.location.href="/login")}),[e]),Object(x.jsxs)(d.a,{component:"main",maxWidth:"sm",sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)(g.a,{color:"warning",sx:{mb:4},children:"gr"===t?"\u0398\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03ad\u03c7\u03b5\u03c4\u03b5 \u03bc\u03b1\u03b6\u03af \u03c3\u03b1\u03c2 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03b5\u03c0\u03af\u03c3\u03b7\u03bc\u03bf \u03ad\u03b3\u03b3\u03c1\u03b1\u03c6\u03bf \u03c4\u03b1\u03c5\u03c4\u03bf\u03c0\u03c1\u03bf\u03c3\u03c9\u03c0\u03af\u03b1\u03c2, \u03c4\u03cc\u03c3\u03bf \u03b5\u03c3\u03b5\u03b9\u03c2, \u03cc\u03c3\u03bf \u03ba\u03b1\u03b9 \u03bf \u03b5\u03c0\u03af\u03c3\u03b7\u03bc\u03bf\u03c2 \u03bc\u03b5\u03c4\u03b1\u03c6\u03c1\u03b1\u03c3\u03c4\u03ae\u03c2 \u03ae \u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03b9\u03ba\u03cc\u03c2 \u03bb\u03b5\u03b9\u03c4\u03bf\u03c5\u03c1\u03b3\u03cc\u03c2 \u03c0\u03bf\u03c5 \u03b8\u03b1 \u03c3\u03b1\u03c2 \u03c3\u03c5\u03bd\u03bf\u03b4\u03b5\u03cd\u03b5\u03b9.":"You must have an official identity document with you, as well as the official translator or social worker who will accompany you."}),Object(x.jsx)(m.a,{variant:"h5",gutterBottom:!0,component:"div",sx:{textAlign:"center"},children:"gr"===t?"\u0393\u03b9\u03b1 \u03bd\u03b1 \u03c0\u03c1\u03bf\u03b3\u03c1\u03b1\u03bc\u03bc\u03b1\u03c4\u03af\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf \u03c1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd \u03c3\u03b1\u03c2, \u03ba\u03b1\u03bb\u03ad\u03c3\u03c4\u03b5 \u03c4\u03bf \u03bb\u03b7\u03be\u03b9\u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03c3\u03c4\u03bf (+30) 2413500254":"To schedule your appointment please call the registry office at (+30)2413500254"}),Object(x.jsx)(h.a,{variant:"contained",children:Object(x.jsx)("a",{href:"tel:+30 2413500254",style:{textDecoration:"none",color:"inherit"},children:"gr"===t?"\u039a\u03bb\u03b7\u03c3\u03b7":"Call"})})]})},it=function(){var e=Object(j.c)((function(e){return e.user})),t=Object(j.c)((function(e){return e.lang}));return Object(r.useEffect)((function(){"municipality"===(null===e||void 0===e?void 0:e.role)?window.location.replace("/municipalityForms"):window.location.replace("/preperation")}),[]),Object(r.useEffect)((function(){e||(window.location.href="/login")}),[e]),Object(x.jsx)("div",{children:"municipality"===(null===e||void 0===e?void 0:e.role)||"gr"===t?"\u0391\u03bd\u03b1\u03ba\u03b1\u03c4\u03b5\u03c5\u03b8\u03c5\u03bd\u03c3\u03b7...":"Redirecting..."})},ot=function(){var e=Object(r.useState)({width:0,height:0}),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(r.useLayoutEffect)((function(){var e=function(){a({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},lt=(n(436),function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BE_URL,"/users/me"),{credentials:"include"});case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.t1=JSON,e.next=13,t.text();case 13:throw e.t2=e.sent,e.t3=t.status,e.t4={text:e.t2,status:e.t3},e.t5=e.t1.stringify.call(e.t1,e.t4),new e.t0(e.t5);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),st=lt,ut="SET_LOGGEDIN",dt=n(470),jt=function(){var e=ot(),t=e.width,n=e.height;return Object(x.jsx)(p.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:t,height:n},children:Object(x.jsx)(dt.a,{})})},_t=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BE_URL,"/users/verifyEmail/").concat(t),{method:"POST",credentials:"include"});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.t0=Error,e.t1=JSON,e.next=13,n.text();case 13:throw e.t2=e.sent,e.t3=n.status,e.t4={text:e.t2,status:e.t3},e.t5=e.t1.stringify.call(e.t1,e.t4),new e.t0(e.t5);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bt=_t,pt=function(){var e=Object(j.c)((function(e){return e.user})),t=Object(j.c)((function(e){return e.lang})),n=Object(b.g)().token,a=Object(r.useState)(!0),c=Object(l.a)(a,2),i=c[0],s=c[1],d=Object(r.useState)(null),_=Object(l.a)(d,2),f=_[0],h=_[1],O=function(){var e=Object(o.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt(n);case 3:e.next=21;break;case 5:if(e.prev=5,e.t0=e.catch(0),!r){e.next=20;break}return e.prev=8,e.next=11,ke();case 11:return e.next=13,O(!1);case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(8),console.error(e.t1);case 18:e.next=21;break;case 20:h("gr"===t?"\u039a\u03b1\u03c4\u03b9 \u03c0\u03b7\u03b3\u03b5 \u03bb\u03b1\u03b8\u03bf\u03c2. \u03a0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03b7\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03b1 \u03b1\u03c1\u03b3\u03bf\u03c4\u03b5\u03c1\u03b1":"Something went bad. Try again later");case 21:return e.prev=21,s(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,5,21,24],[8,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){O(!0)}),[]),Object(r.useEffect)((function(){e||(window.location.href="/login")}),[e]),Object(x.jsx)(p.a,{sx:{display:"flex",justifyContent:"center"},children:Object(x.jsx)(g.a,{color:i?"info":f?"error":"success",children:i?"Loading...":f||("gr"===t?"\u03a4\u03bf \u03bc\u03b5\u03b9\u03bb \u03c3\u03b1\u03c2 \u03b5\u03c0\u03b9\u03b2\u03b5\u03b2\u03b1\u03b9\u03c9\u03b8\u03b7\u03ba\u03b5":"Your email have been verified")})})},ft=function(){var e=ot().height,t=Object(r.useState)(!0),n=Object(l.a)(t,2),a=n[0],c=n[1],i=Object(j.c)((function(e){return e.user})),s=Object(j.c)((function(e){return e.lang})),f=Object(j.b)(),h=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st();case 3:(n=e.sent)&&(f(E(n)),f({type:ut,payload:!0})),e.next=22;break;case 7:if(e.prev=7,e.t0=e.catch(0),r=JSON.parse(null===e.t0||void 0===e.t0?void 0:e.t0.message),a=r.text,i=r.status,console.log(a,i),!t){e.next=22;break}return e.prev=12,e.next=15,ke();case 15:return e.next=17,h(!1);case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(12),console.log(e.t1);case 22:return e.prev=22,c(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[0,7,22,25],[12,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){h(!0)}),[]),Object(r.useEffect)((function(){return localStorage.setItem("lang",s)}),[s]),Object(r.useEffect)((function(){return!i||"municipality"===(null===i||void 0===i?void 0:i.role)&&f(X("gr"))}),[i]),a?Object(x.jsx)(jt,{}):Object(x.jsxs)(d.a,{disableGutters:!0,maxWidth:!1,sx:{minHeight:e,display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(x.jsxs)(_.a,{children:[Object(x.jsx)(Y,{}),Object(x.jsx)(p.a,{sx:{mt:10,flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(x.jsxs)(b.c,{children:[Object(x.jsx)(b.a,{path:"/",element:Object(x.jsx)(it,{})}),Object(x.jsx)(b.a,{path:"/register",element:Object(x.jsx)(N,{})}),Object(x.jsx)(b.a,{path:"/login",element:Object(x.jsx)(C,{})}),Object(x.jsx)(b.a,{path:"/verifyEmail/:token",element:Object(x.jsx)(pt,{})}),Object(x.jsx)(b.a,{path:"/preperation",element:Object(x.jsx)(at,{})}),Object(x.jsx)(b.a,{path:"/refugeeAppointments",element:Object(x.jsx)(ct,{})}),Object(x.jsx)(b.a,{path:"/preparedForms",element:Object(x.jsx)(rt,{type:"preparedForms"})}),Object(x.jsx)(b.a,{path:"/municipalityForms",element:Object(x.jsx)(rt,{type:"municipalityForms"})}),Object(x.jsx)(b.a,{path:"/forms/:formId",element:Object(x.jsx)(Ue,{})})]})})]}),"municipality"!==(null===i||void 0===i?void 0:i.role)&&Object(x.jsx)(Fe,{})]})},xt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,480)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},ht=n(453),Ot=n(202),vt=Object(Ot.a)({palette:{primary:{200:"#c0d8d8",300:"#87b5b5",main:"#4aa3a3",contrastText:"#fff"},secondary:{light:"#fff",main:"#9d9d9d",dark:"#000",contrastText:"#fff"},error:{main:"#f00"},overrides:{MuiButton:{raisedPrimary:{color:"#fff"},raisedSecondary:{color:"#fff"}}}}}),mt=n(107),gt=n(201),yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct.lang,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===q?r:e},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct.loggedIn,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===ut?r:e},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct.user,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===w?r:e},Et=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||mt.c,Ct={loggedIn:!1,user:null,lang:localStorage.getItem("lang")||"gr"},kt=Object(mt.b)({loggedIn:St,user:wt,lang:yt}),Tt=Object(mt.d)(kt,Ct,Et(Object(mt.a)(gt.a)));i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(j.a,{store:Tt,children:Object(x.jsx)(ht.a,{theme:vt,children:Object(x.jsx)(ft,{})})})}),document.getElementById("root")),xt()}},[[351,1,2]]]);
//# sourceMappingURL=main.8d17e3e2.chunk.js.map